# Web小説更新通知アプリ 要件定義書

## 1. プロダクト概要

Web小説の読者が、複数の小説投稿サイトに散らばるブックマーク作品の更新状況を一元管理できるモバイルアプリ。
マイページを開くだけで、全サイトの更新情報を更新日の降順で確認できる。

---

## 2. 対象プラットフォーム

| フェーズ | 対象 |
|---------|------|
| Phase 1 | iOS (iPhone) |
| Phase 2 | Android |

- 端末乗り換え（iOS ↔ Android）が容易にできるデータ移行の仕組みを設計段階から考慮する

---

## 3. 対象小説サイト

| サイト名 | 取得方式 |
|----------|---------|
| 小説家になろう | API（なろうAPI） |
| ハーメルン | クローリング（目次ページ） |
| カクヨム | API or クローリング（要調査） |
| Arcadia | クローリング（目次ページ） |

---

## 4. 機能要件

### 4.1 ブックマーク管理

- 各サイトの小説URLを登録し、ブックマークとして管理できる
- Safari等からの共有機能（Share Extension）によりワンアクションで登録できる
- ブックマーク一覧は更新日の降順で表示する

### 4.2 更新チェック・通知

- サーバー側で定期的に各小説の目次ページを巡回し、新しい話の公開を検知する
- **更新間隔**: 最短6時間に1回
- **巡回レート**: サイト負荷軽減のため、3秒に1作品ペース
- 他ユーザーがブックマーク登録した際、話数が更新されていれば即座に反映する
- **プッシュ通知**: 更新があった場合「○件の更新があります」とサーバーからプッシュ通知を送る

### 4.3 レビュー・感想

- 各作品に対して自分なりの感想（テキスト）を記録できる
- 星1〜5のレビュー（評価）を設定できる
- 星ごと（例: 星5の作品一覧）にフィルタリング表示ができる

### 4.4 PDF保存

- 各小説サイトで出力したPDFをアプリ内で作品と紐付けて保存できる
- **ローカル保存のみ**（サーバーにはアップロードしない）

### 4.5 お気に入り作者

- 作者をお気に入り登録できる
- お気に入り作者が新しい小説を公開した際にプッシュ通知で知らせる

### 4.6 広告・アフィリエイト

- Amazon アフィリエイトを活用し、関連するライトノベル（書籍化作品等）を広告として表示する
- 作者の売上貢献にもつながる導線を意識する

---

## 5. 非機能要件

### 5.1 UI/UX

- シンプルかつ操作していて楽しいUI/UXを目指す
- ライトモード / ダークモードの切り替えに対応する
- Safariからの共有・ジェスチャー操作でワンアクションの登録を実現する

### 5.2 サイトへの配慮

- 各小説サイトに過度な負荷をかけないことを最優先とする
- APIが提供されているサイトはAPIを使用する
- クローリング時はリクエスト間隔を十分に空ける（3秒/作品以上）
- User-Agentを適切に設定し、robots.txtを遵守する

### 5.3 コスト

- インフラコストは極力ゼロに抑える
- DB・サーバーは各クラウドサービスの無料枠内で運用する

### 5.4 データ移行

- 端末間（iOS ↔ Android）でのデータ移行が容易な設計とする
- ユーザーアカウントに紐づくデータはサーバー側に保持する

---

## 6. 追加機能の提案

以下はアイデアノートには含まれていないが、Web小説読者向けアプリとして有用と思われる機能。

### 6.1 既読管理・しおり機能

- 各作品の「どこまで読んだか（第○話まで）」を記録できる
- 未読話数をバッジで表示し、何話溜まっているかが一目でわかる

### 6.2 読書統計

- 月間・週間の読了話数や、よく読むジャンル・サイトの統計をグラフで表示
- 読書のモチベーション維持に役立つ

### 6.3 タグ・カテゴリ分類

- ブックマーク作品に自分だけのタグ（例: 「異世界」「完結済」「激アツ」）を付与して管理できる
- タグごとのフィルタ・ソート表示

### 6.4 完結検知・連載状況表示

- 作品が完結したことを自動検知し通知する
- 連載中 / エタった可能性あり（長期間未更新） / 完結 のステータスを表示

### 6.5 おすすめ・ランキング

- 他ユーザーの評価やブックマーク数をもとに、アプリ内ランキングやおすすめ機能を提供
- 自分の評価傾向に基づくレコメンド

### 6.6 メモ・ハイライト

- 作品ごとに自由にメモを残せる（キャラ名のメモ、伏線の記録など）
- 長期連載を読み返す際の備忘録として活用

### 6.7 更新カレンダー

- ブックマーク作品の更新履歴をカレンダー形式で表示
- 定期更新の作品の曜日パターンを可視化

### 6.8 SNS共有・友達機能

- 読んでいる作品や感想をSNSにシェアできる
- アプリ内で友達のブックマークや感想を閲覧できる（プライバシー設定付き）
